# 概要
Next.js + Convex で構築された、ToDo アプリケーション

このプロジェクトは、Convex の機能を実演するために作成されたサンプルアプリケーションです。リアルタイムデータベース、リアクティブクエリ、プレゼンス管理など、Convex の主要機能を実装例として紹介しています。

![タイトルなし](https://github.com/user-attachments/assets/17730bfd-2864-44c1-b9f1-2408895da9bd)

## 🚀 Convex とは？

**Convex** は、モダンなWebアプリケーション開発のための次世代のバックエンドプラットフォームです。

### 🌟 Convex の主要な特徴

- **🔄 リアルタイム同期** - データの変更が即座に全クライアントに反映
- **📊 リアクティブクエリ** - データベースの変更を監視して自動的にUIを更新
- **⚡ サーバーレス関数** - TypeScript で書けるサーバーサイド関数
- **🛡️ 型安全性** - エンドツーエンドの TypeScript サポート
- **🌐 プレゼンス管理** - ユーザーのオンライン状態やリアルタイムコラボレーション
- **📈 スケーラビリティ** - 自動スケーリングとパフォーマンス最適化
- **🔍 インデックス** - 高速クエリのための自動インデックス作成

### 🎯 なぜ Convex を選ぶのか？

従来のバックエンド開発では、リアルタイム同期やデータベース管理、API設計などを個別に構築する必要がありました。Convex はこれらを統合的に提供し、開発者がフロントエンドの開発に集中できるようにします。

- **開発速度の向上** - ボイラープレートコードの削減
- **リアルタイム機能の簡単実装** - WebSocket や状態管理の複雑さを隠蔽
- **型安全なAPI** - フロントエンドとバックエンドの型同期
- **運用の簡素化** - インフラ管理不要

**📚 Convex について詳しく：** [公式ドキュメント](https://docs.convex.dev/) | [公式サイト](https://www.convex.dev/)

## ✨ 主な機能

### 🎨 Glass UI
- **グラスモーフィズム デザイン** - 美しい透明感とボケ効果
- **流体グラデーション背景** - 動的なアニメーション背景
- **プレミアム エフェクト** - ホバー時の光沢効果とスケールアニメーション
- **レスポンシブ対応** - モバイルからデスクトップまで完璧な表示

### 📝 高機能 ToDo 管理
- **CRUD 操作** - タスクの作成、読み取り、更新、削除
- **リアルタイム同期** - Convex による即座のデータ同期
- **タスク完了状態** - チェックボックスによる直感的な操作
- **作成日時表示** - 日本語フォーマットでの時刻表示

### 🔍 高度な検索・フィルター機能
- **全文検索** - リアルタイムテキスト検索（大文字小文字無視）
- **スマートフィルター** - 未完了/完了済み/すべて の切り替え
- **柔軟なソート** - 新しい順/古い順/アルファベット順
- **検索統計** - 検索結果数とフィルター状態の表示
- **検索空状態** - 検索結果がない場合の専用UI

### 🤝 リアルタイムコラボレーション
- **アクティブユーザー表示** - 右上にオンラインユーザー一覧
- **編集中インジケーター** - 他のユーザーがタスクを編集中の表示
- **自動プレゼンス管理** - タブ切り替えや閉じる時の自動離脱
- **カラーコード付きアバター** - ユーザー識別のための色分け

### 📊 統計ダッシュボード
- **完了率表示** - 視覚的なプログレス表示
- **タスク数統計** - 総数、完了数、未完了数
- **フィルター統計** - 検索結果に対応した統計情報

## 🚀 技術スタック

### フロントエンド
- **Next.js 15** - React フレームワーク（App Router）
- **TypeScript** - 型安全な開発
- **Tailwind CSS** - ユーティリティファーストCSS
- **React Hooks** - モダンなReact開発

### バックエンド（Convex活用）
- **Convex Database** - NoSQL ドキュメントデータベース（todos, presence テーブル）
- **Convex Functions** - TypeScript サーバー関数（Query / Mutation）
- **リアルタイム同期** - リアクティブクエリによる自動UI更新
- **プレゼンス管理** - マルチユーザーのオンライン状態管理
- **自動型生成** - Convex スキーマからの TypeScript 型自動生成

#### 📋 このアプリで実装された Convex 機能
- `useQuery(api.todos.getTodos)` - リアクティブなタスク一覧取得
- `useMutation(api.todos.createTodo)` - 楽観的更新でのタスク作成
- `useQuery(api.presence.getActiveUsers)` - リアルタイムユーザープレゼンス
- 自動クリーンアップ機能付きプレゼンス管理
- クライアントサイド検索とフィルタリング

### 開発ツール
- **ESLint** - コード品質管理
- **Prettier** - コードフォーマット
- **TypeScript Strict Mode** - 厳格な型チェック

## 📦 インストール

### 前提条件
- Node.js 18+ 
- npm または yarn
- Convex アカウント

### セットアップ手順

1. **リポジトリのクローン**
```bash
git clone <repository-url>
cd sample-convex-todo
```

2. **依存関係のインストール**
```bash
npm install
```

3. **Convex の設定**
```bash
npx convex dev
```

4. **環境変数の設定**
`.env.local` ファイルを作成し、Convex の設定を追加
```env
CONVEX_DEPLOYMENT=<your-convex-deployment>
NEXT_PUBLIC_CONVEX_URL=<your-convex-url>
```

5. **開発サーバーの起動**
```bash
npm run dev
```

アプリケーションが http://localhost:3000 で起動します。


### コーディング規約
- **ESLint** - `npm run lint` でチェック
- **Prettier** - `npm run format` で自動フォーマット
- **TypeScript** - 厳格な型チェック必須
- **コミットメッセージ** - Conventional Commits 形式

## 📋 TODO（今後の実装予定）

- [x] ✅ 基本的なToDo機能（CRUD）
- [x] ✅ Liquid Glass UI デザイン
- [x] ✅ リアルタイムコラボレーション
- [x] ✅ 全文検索とスマートフィルター
- [ ] 🔄 Convex スケジューリング機能（リマインダー、定期タスク）
- [ ] 🔄 ファイルアップロード機能（画像、添付ファイル）
- [ ] 🔄 リアルタイムダッシュボード（統計、グラフ）
- [ ] 🔄 オフライン対応とオプティミスティックアップデート
